Sure, here is the entire implementation in one file, including the function to get the search body, the function to dynamically create the search schema, and the function to get additional filters:

```javascript
const getSearchBody = (searchType, searchText, formData = {}) => {
  const { startDate, endDate } = formData;
  return {
    ...(startDate &&
      endDate && {
        order_created_date_filter: {
          form_date: startDate,
          to_date: endDate,
        },
      }),
    consumer: "MRV_GLOBAL_SEARCH",
    primary_identifiers_lookup: getSearchSchema(searchType, searchText, formData),
  };
};

const getSearchSchema = (searchType, searchText, formData = {}) => {
  const lookupTypes = {
    phone: {
      type: "customer_phone_number_lookup",
      field: "phone_number",
    },
    email: {
      type: "email_id_lookup",
      field: "email_id",
    },
    invoice: {
      type: "invoice_no_lookup",
      field: "invoice_number",
      extra: { store_number: formData.storeLocation },
    },
    order: {
      type: "order_no_lookup",
      field: "order_no",
    },
  };

  const additionalFilters = getAdditionalFilter(formData);

  for (const [key, { type, field, extra }] of Object.entries(lookupTypes)) {
    if (searchType.includes(key)) {
      return {
        [type]: {
          [field]: searchText,
          additional_filters: additionalFilters,
          ...(extra || {}),
        },
      };
    }
  }
  return {};
};

const getAdditionalFilter = (formData = {}) => {
  return {
    ...(formData.storeLocation && { store_number: formData.storeLocation }),
    ...(formData.transactionType && { transaction_type: formData.transactionType }),
    ...(formData.email && { customer_email: formData.email }),
  };
};

// Example usage
const formData = {
  startDate: "2021-01-01",
  endDate: "2021-01-31",
  storeLocation: "001",
  transactionType: "sale",
  email: "customer@example.com",
};
const searchType = "invoice";
const searchText = "123456789";

console.log(getSearchBody(searchType, searchText, formData));
```

### Notes:

- **`getSearchBody`**: This function builds the search body, including the time filters and the primary identifiers based on the search type and text. It uses the provided `formData` for dates and additional data.
- **`getSearchSchema`**: It dynamically creates the search schema using a predefined mapping of search types to their respective lookup types and additional data.

- **`getAdditionalFilter`**: This function constructs additional filters based on the provided `formData`.

This consolidated file should be easy to maintain and extend. It neatly packages all related functionalities, making them more reusable and easier to understand.
